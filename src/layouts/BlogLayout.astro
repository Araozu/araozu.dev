---
import NavigationLayout from "./NavigationLayout.astro";

let { frontmatter, lang } = Astro.props;
lang = lang ?? "en";
---

<!doctype html>
<html lang={lang}>
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <link rel="stylesheet" href="/global.css" />
        <link rel="stylesheet" href="/blog.css" />
        <title>Blog - Fernando Araoz</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css"
        />
        <script src="//unpkg.com/alpinejs" is:inline defer></script>
    </head>
    <body>
        <NavigationLayout>
            <div id="blog" class="container mx-auto max-w-[1000px]" style="font-size: 18px">
                <div class="py-6">
                    {
                        frontmatter?.title && (
                            <h1 class="font-etoile text-center text-4xl py-2">
                                {frontmatter.title}
                            </h1>
                        )
                    }
                    {
                        frontmatter?.pubDate && (
                            <p class="text-center text-sm">
                                Published: {frontmatter.pubDate}
                            </p>
                        )
                    }
                    {
                        frontmatter?.image && (
                            <figure>
                                <div class="text-center">
                                    <img
                                        class="dark:opacity-70 rounded pt-8 inline-block"
                                        src={frontmatter.image.url}
                                        alt={frontmatter.image.alt}
                                    />
                                </div>
                                <figcaption class="text-xs text-center pt-2 pb-8 opacity-75">
                                    {frontmatter.image.caption}
                                </figcaption>
                            </figure>
                        )
                    }
                </div>

                <div class="text-base">
                    <slot />
                </div>

                <div class="pt-4 border-t border-c-on-bg">
                    <h3>Comments/Comentarios</h3>
                    <section id="isso-thread"

                    >
                        <noscript>Javascript needs to be activated to view comments.</noscript>
                    </section>
                </div>

                <div class="min-h-40"></div>
            </div>
        </NavigationLayout>

        <script data-isso="https://comments.araozu.dev/"
            data-isso-lang={lang}
            src="https://comments.araozu.dev/js/embed.min.js"
        ></script>
    </body>
</html>
